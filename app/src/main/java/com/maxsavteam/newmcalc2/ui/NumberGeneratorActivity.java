package com.maxsavteam.newmcalc2.ui;import android.annotation.SuppressLint;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.content.pm.ActivityInfo;import android.content.res.ColorStateList;import android.content.res.Resources;import android.graphics.Color;import android.graphics.Point;import android.graphics.drawable.Drawable;import android.os.Bundle;import android.preference.PreferenceManager;import android.view.Display;import android.view.MenuItem;import android.view.View;import android.view.ViewGroup;import android.view.WindowManager;import android.view.animation.Animation;import android.view.animation.AnimationUtils;import android.widget.Button;import android.widget.CheckBox;import android.widget.EditText;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import android.widget.Toast;import androidx.appcompat.app.ActionBar;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.widget.Toolbar;import com.maxsavteam.newmcalc2.Main2Activity;import com.maxsavteam.newmcalc2.R;import com.maxsavteam.newmcalc2.ThemeActivity;import com.maxsavteam.newmcalc2.utils.Utils;import java.math.BigInteger;import java.util.ArrayList;import java.util.Locale;import java.util.concurrent.ThreadLocalRandom;public class NumberGeneratorActivity extends ThemeActivity {	@SuppressLint("SourceLockedOrientationActivity")	@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate( savedInstanceState );		setContentView( R.layout.activity_numgen );		Toolbar toolbar = findViewById( R.id.toolbar );		setSupportActionBar( toolbar );		getSupportActionBar().setDisplayHomeAsUpEnabled( true );		setRequestedOrientation( ActivityInfo.SCREEN_ORIENTATION_PORTRAIT );	}	@Override	public boolean onOptionsItemSelected(MenuItem item) {		int id = item.getItemId();		if ( id == android.R.id.home ) {			onBackPressed();		}		return super.onOptionsItemSelected( item );	}	public void generate(View v) {		EditText minInput = findViewById( R.id.edTextMin );		EditText maxInput = findViewById( R.id.edTextMax );		String maxs = maxInput.getText().toString();		String mins = minInput.getText().toString();		if ( !minInput.getText().toString().equals( "" ) && !maxInput.getText().toString().equals( "" ) ) {			BigInteger b1 = new BigInteger( mins );			BigInteger b2 = new BigInteger( maxs ), lmax = BigInteger.valueOf( Long.MAX_VALUE ), lmin = BigInteger.valueOf( Long.MIN_VALUE );			if ( b1.compareTo( lmin ) < 0 || b1.compareTo( lmax ) > 0 || b2.compareTo( lmin ) < 0 || b2.compareTo( lmax ) > 0 ) {				Toast.makeText( getApplicationContext(), getResources().getString( R.string.maxintexception ), Toast.LENGTH_LONG ).show();				return;			}			int minNum = Integer.parseInt( minInput.getText().toString() );			int maxNum = Integer.parseInt( maxInput.getText().toString() );			if ( minNum > maxNum ) {				int temp = minNum;				minNum = maxNum;				maxNum = temp;			}			int randomNum = ThreadLocalRandom.current().nextInt( minNum, maxNum + 1 );			TextView t = findViewById( R.id.txtAnswer );			t.setText( String.format( Locale.ROOT, "%d", randomNum ) );			findViewById( R.id.layoutLinear ).setVisibility( View.VISIBLE );		}	}	public void copy(View v) {		android.text.ClipboardManager clipboard = (android.text.ClipboardManager) getSystemService( Context.CLIPBOARD_SERVICE );		if ( clipboard != null ) {			TextView t = findViewById( R.id.txtAnswer );			clipboard.setText( t.getText().toString() );			Toast.makeText( getApplicationContext(), getResources().getString( R.string.copied ), Toast.LENGTH_SHORT ).show();		}	}	@Override	public void onBackPressed() {		if ( getIntent().getStringExtra( "type" ).equals( "shortcut" ) ) {			startActivity( new Intent( this, Main2Activity.class ) );		}		super.onBackPressed();		Utils.defaultActivityAnim( this );	}}